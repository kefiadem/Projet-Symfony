{% extends 'base.html.twig' %}

{% block title %}
    {{ product.name }} | my shop
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/product-single.css') }}">
{% endblock %}

{% block body %}
    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card product-single-card shadow-sm">
                    {% if product.image %}
                        <img src="{{ asset('' ~ product.image) }}" class="card-img-top" alt="{{ product.name }}">
                    {% else %}
                        <img src="{{ asset('images/no-image.png') }}" class="card-img-top" alt="No image available">
                    {% endif %}
                    <div class="card-body">
                        <h1 class="card-title">{{ product.name }}</h1>
                        {# STAR RATING #}
                        {% if product.review is defined %}
                            <div class="mb-2">
                            <span class="product-stars">
                                {% for i in 1..5 %}
                                    {% if i <= product.review %}
                                        <span class="star-full">&#9733;</span>
                                    {% else %}
                                        <span class="star-empty">&#9733;</span>
                                    {% endif %}
                                {% endfor %}
                            </span>
                                <span class="text-muted fs-6">({{ product.review }}/5)</span>
                            </div>
                        {% endif %}
                        {# DATE #}
                        {% if product.createdAt is defined %}
                            <p class="card-text text-muted mb-2">
                                <small>Added on {{ product.createdAt|date('F j, Y') }}</small>
                            </p>
                        {% endif %}
                        {# DESCRIPTION #}
                        {% if product.description is defined %}
                            <p class="card-text">{{ product.description }}</p>
                        {% endif %}
                        {# PRICE #}
                        {% if product.price is defined %}
                            <div class="mb-2">
                                <span class="fw-bold">Price:</span>
                                <span class="text-success">{{ product.price|number_format(2, '.', ',') }} â‚¬</span>
                            </div>
                        {% endif %}
                        <a href="{{ path('id_product', {'id': product.id}) }}" class="btn btn-primary mt-3">
                            <svg class="me-1" width="20" height="20"><use xlink:href="#cart"></use></svg>
                            Add to cart
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block scripts %}
    {{ parent() }}
    {# Add custom scripts here if needed #}
{% endblock %}
